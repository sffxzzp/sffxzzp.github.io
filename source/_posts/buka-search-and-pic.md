---
title: 布卡漫画搜索 & 下载
date: 2019-08-11T09:19:06.035Z
tags:
  - 随笔
  - Python
comments: true
---
起因是之前补番的时候看到橘里橘气的 Citrus，觉得挺好看，想去补一下漫画。（emmmmm，好像暴露了什么
在网上搜了一圈，能比较全的也就只有布卡，但布卡不支持手机，只好下 App 回来用。

然后有意思的来了，App 里只能搜索到一些国漫，根本没法搜索到 Citrus，但直接拿搜索引擎就能搜到，非常有意思。
最后查了一下，似乎是由于某些不能说的原因才让这个搜索变成这样。
而搜索引擎也有一些内容没法搜索全，最后索性自己写了一小段 Python 爬了一遍布卡。（实际上由于调试和某些低级错误，大约爬了2.5遍

目前的搜索还是得依靠 Python 对 sqlite3 的搜索结果进行排版，搜索量少还可以在手机上用 Termux 装上 Python3 来凑合凑合，量多了实在有点烦人。
之后有打算用 PHP + MySQL 重写一下，不过到时候还得找个地方部署一下，新版的 now.sh 真的没弄懂如何部署，等写完了再看吧。

另外补充一点，从布卡下载的图片，由于其本身要对图片进行防盗，所以下载回来的文件都是`.view`后缀。
然而文件实际上并未进行其他的加密运算，只是在图片的文件头上加了点料，只需要直接`seek(64)`，之后的内容就是原始图片了。
